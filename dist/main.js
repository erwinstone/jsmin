/*!
* @erwinstone/jsmin v1.0.0 (https://github.com/erwinstone/jsmin#readme)
* Copyright 2021 erwinstone
* Licensed under MIT (https://github.com/erwinstone/jsmin/blob/master/LICENSE)
*/
var w=Object.create;var a=Object.defineProperty;var j=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var $=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var f=t=>a(t,"__esModule",{value:!0});var P=(t,n)=>{for(var i in n)a(t,i,{get:n[i],enumerable:!0})},u=(t,n,i,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of y(n))!x.call(t,s)&&(i||s!=="default")&&a(t,s,{get:()=>n[s],enumerable:!(r=j(n,s))||r.enumerable});return t},o=(t,n)=>u(f(a(t!=null?w($(t)):{},"default",!n&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),b=(t=>(n,i)=>t&&t.get(n)||(i=u(f({}),n,1),t&&t.set(n,i),i))(typeof WeakMap!="undefined"?new WeakMap:0);var M={};P(M,{jsmin:()=>W,jsminStr:()=>D});var e=o(require("fs")),l=o(require("path")),c=o(require("perf_hooks")),h=o(require("chokidar")),m=o(require("esbuild"));const g={starting:t=>(console.log(`Starting '${t}'...`),c.performance.now()),finished:(t,n)=>{let i=Math.round(c.performance.now()-n),r=i>=1e3?`${(i/1e3).toFixed(2)} s`:`${Math.round(i)} ms`;r=r.toString(),console.log(`Finished '${t}' after ${r}`)}};async function p(t,n){n=n||[];const i=await e.promises.readdir(t);for(const r of i){const s=l.posix.join(t,r);(await e.promises.stat(s)).isDirectory()?n=await p(s,n):n.push(s)}return F(n)}function F(t){return t.filter(n=>n.endsWith(".js")&&!n.endsWith(".min.js"))}async function d(t){const n=g.starting("jsmin");let i=[];(await e.promises.stat(t)).isDirectory()?i=await p(t):i.push(t),await Promise.all(i.map(r=>{(0,m.build)({entryPoints:[r],outfile:r.slice(0,-2)+"min.js",minify:!0})})),g.finished("jsmin",n)}function S(t){(0,h.watch)(t,{ignoreInitial:!0}).on("all",(n,i)=>setTimeout(async()=>!i.endsWith(".min.js")&&await d(t),200)).on("ready",()=>console.log("Ready for changes"))}async function W(t){t.watch===!0?S(t.path):await d(t.path)}async function D(t){return(await(0,m.transform)(t,{minify:!0})).code}module.exports=b(M);0&&(module.exports={jsmin,jsminStr});
